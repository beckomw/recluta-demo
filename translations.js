// ===================================
// Translations - English & Spanish
// ===================================

const translations = {
    en: {
        // Landing Page
        heroTitle: "Know if you're qualified before you apply",
        heroSubtitle: "Compare your resume against any job posting in seconds. Get an instant match score and see exactly what skills you're missing.",
        ctaButton: "Try it now",
        ctaNote: "No signup required",
        statLabel: "The Problem",
        statDescription: "of applications go to jobs you're not qualified for",
        benefit1Title: "Save 10+ hours/week",
        benefit1Desc: "Stop wasting time",
        benefit2Title: "3x response rate",
        benefit2Desc: "Better results",
        benefit3Title: "Higher confidence",
        benefit3Desc: "Ace interviews",

        // Navigation
        navResume: "Resume",
        navJobs: "Jobs",
        navCompare: "Compare",
        navDashboard: "Dashboard",

        // Resume Manager
        resumeTitle: "Resume Management",
        contactInfo: "Contact Information",
        firstName: "First Name *",
        lastName: "Last Name *",
        email: "Email *",
        phone: "Phone",
        zipcode: "Zipcode *",
        resumeVersion: "Resume Version",
        resumeVersionHint: "Give this resume version a name (e.g., \"Software Engineer Resume\", \"Data Analyst Resume\")",
        resumeTitleLabel: "Resume Title",
        resumeTitlePlaceholder: "My Resume",
        professionalSummary: "Professional Summary",
        summaryLabel: "Summary",
        summaryPlaceholder: "Brief overview of your professional background and goals",
        skills: "Skills",
        skillsLabel: "Skills *",
        skillsPlaceholder: "Enter your skills, separated by commas (e.g., JavaScript, React, Node.js, Python, SQL)",
        skillsHint: "Separate skills with commas. Be specific!",
        workExperience: "Work Experience",
        experienceLabel: "Work Experience",
        experiencePlaceholder: "List your work experience, job titles, companies, and key responsibilities...",
        saveResume: "Save Resume",
        uploadPDF: "Upload PDF Resume",
        quickStart: "Quick Start: Upload Your Resume",
        uploadHint: "Upload a PDF resume to auto-extract text, or fill out the form manually below.",
        uploadText: "Click to upload PDF or drag and drop",
        orDivider: "OR",
        savedResumes: "Saved Resumes",
        noResumesYet: "No resumes saved yet. Create your first resume above!",
        editResume: "Edit",
        deleteResume: "Delete",
        resumeSaved: "Resume saved successfully!",
        resumeDeleted: "Resume deleted successfully!",
        confirmDelete: "Are you sure you want to delete this resume?",

        // Job Manager
        jobTitle: "Job Postings",
        addJob: "Add Job Posting",
        jobTitleLabel: "Job Title *",
        jobTitlePlaceholder: "e.g., Senior Software Engineer",
        company: "Company *",
        companyPlaceholder: "e.g., Google",
        location: "Location",
        locationPlaceholder: "e.g., San Francisco, CA",
        jobURL: "Job Posting URL",
        jobDescription: "Job Description",
        jobDescPlaceholder: "Paste the full job description here",
        requirements: "Requirements & Qualifications *",
        requirementsPlaceholder: "List the required skills, experience, and qualifications from the job posting",
        requirementsHint: "Include all technical skills, years of experience, education requirements, etc.",
        saveJob: "Save Job Posting",
        savedJobs: "Saved Job Postings",
        noJobsYet: "No job postings saved yet. Add your first job above!",
        editJob: "Edit",
        deleteJob: "Delete",
        jobSaved: "Job posting saved successfully!",
        jobDeleted: "Job posting deleted successfully!",
        confirmDeleteJob: "Are you sure you want to delete this job posting?",

        // Comparison Engine
        compareTitle: "Job Comparison",
        selectResume: "Select Resume",
        selectJob: "Select Job",
        runComparison: "Run Comparison",
        matchScore: "Match Score",
        matchingSkills: "Matching Skills",
        missingSkills: "Missing Skills",
        skillsYouHave: "Skills you have that match this job",
        skillsYouNeed: "Skills required for this job that you're missing",
        noResumes: "No resumes available. Create a resume first!",
        noJobs: "No job postings available. Add a job first!",
        selectBoth: "Please select both a resume and a job to compare.",

        // Dashboard
        dashboardTitle: "Dashboard",
        yourProgress: "Your Progress",
        level: "Level",
        dayStreak: "Day Streak",
        experiencePoints: "Experience Points",
        keepGoing: "Keep going to unlock more achievements!",
        jobComparisons: "Job Comparisons",
        jobsAnalyzed: "Jobs Analyzed",
        averageMatch: "Average Match",
        bestMatch: "Best Match",
        yourBestSkills: "Your Best Skills",
        bestSkillsDesc: "Skills you have that match job requirements most often",
        startComparing: "Start comparing jobs to see your best skills!",
        mostInDemand: "Most In-Demand",
        topSkillsDesc: "Top skills across all jobs",
        noDataYet: "No data yet",
        skillsToLearn: "Skills to Learn",
        missingSkillsDesc: "Most common gaps",
        noGapsYet: "No gaps yet!",
        achievements: "Achievements",
        achievementsDesc: "Unlock badges by reaching milestones",
        firstSteps: "First Steps",
        firstStepsDesc: "Complete your first job comparison",
        locked: "Locked",
        jobHunter: "Job Hunter",
        jobHunterDesc: "Add 10 job postings",
        skillMaster: "Skill Master",
        skillMasterDesc: "List 50+ skills in your resume",
        perfectMatch: "Perfect Match",
        perfectMatchDesc: "Achieve a 90%+ match score",
        persistent: "Persistent",
        persistentDesc: "Stay active for 5 consecutive days",
        comparisonPro: "Comparison Pro",
        comparisonProDesc: "Complete 25 job comparisons",
        resumeBuilder: "Resume Builder",
        resumeBuilderDesc: "Create 3 different resumes",
        recentActivity: "Recent Activity",
        noActivityYet: "No activity yet. Start comparing jobs!",
        professionals: "Professionals",
        successRate: "Success Rate",

        // Footer
        copyright: "© 2024 Recluta - Application Readiness Platform",
        resetAllData: "Reset All Data",

        // Notifications
        error: "Error",
        success: "Success",
        warning: "Warning"
    },
    es: {
        // Landing Page
        heroTitle: "Sabe si estás calificado antes de aplicar",
        heroSubtitle: "Compara tu currículum con cualquier oferta de trabajo en segundos. Obtén una puntuación de coincidencia instantánea y ve exactamente qué habilidades te faltan.",
        ctaButton: "Pruébalo ahora",
        ctaNote: "No requiere registro",
        statLabel: "El Problema",
        statDescription: "de las aplicaciones van a trabajos para los que no estás calificado",
        benefit1Title: "Ahorra 10+ horas/semana",
        benefit1Desc: "Deja de perder tiempo",
        benefit2Title: "3x tasa de respuesta",
        benefit2Desc: "Mejores resultados",
        benefit3Title: "Mayor confianza",
        benefit3Desc: "Domina entrevistas",

        // Navigation
        navResume: "Currículum",
        navJobs: "Trabajos",
        navCompare: "Comparar",
        navDashboard: "Panel",

        // Resume Manager
        resumeTitle: "Gestión de Currículum",
        contactInfo: "Información de Contacto",
        firstName: "Nombre *",
        lastName: "Apellido *",
        email: "Correo Electrónico *",
        phone: "Teléfono",
        zipcode: "Código Postal *",
        resumeVersion: "Versión del Currículum",
        resumeVersionHint: "Dale un nombre a esta versión del currículum (ej., \"Currículum Ingeniero de Software\", \"Currículum Analista de Datos\")",
        resumeTitleLabel: "Título del Currículum",
        resumeTitlePlaceholder: "Mi Currículum",
        professionalSummary: "Resumen Profesional",
        summaryLabel: "Resumen",
        summaryPlaceholder: "Breve descripción de tu experiencia profesional y objetivos",
        skills: "Habilidades",
        skillsLabel: "Habilidades *",
        skillsPlaceholder: "Ingresa tus habilidades, separadas por comas (ej., JavaScript, React, Node.js, Python, SQL)",
        skillsHint: "Separa las habilidades con comas. ¡Sé específico!",
        workExperience: "Experiencia Laboral",
        experienceLabel: "Experiencia Laboral",
        experiencePlaceholder: "Lista tu experiencia laboral, títulos de trabajo, empresas y responsabilidades clave...",
        saveResume: "Guardar Currículum",
        uploadPDF: "Subir PDF del Currículum",
        quickStart: "Inicio Rápido: Sube Tu Currículum",
        uploadHint: "Sube un PDF del currículum para auto-extraer el texto, o completa el formulario manualmente abajo.",
        uploadText: "Haz clic para subir PDF o arrastra y suelta",
        orDivider: "O",
        savedResumes: "Currículums Guardados",
        noResumesYet: "Aún no hay currículums guardados. ¡Crea tu primer currículum arriba!",
        editResume: "Editar",
        deleteResume: "Eliminar",
        resumeSaved: "¡Currículum guardado exitosamente!",
        resumeDeleted: "¡Currículum eliminado exitosamente!",
        confirmDelete: "¿Estás seguro de que quieres eliminar este currículum?",

        // Job Manager
        jobTitle: "Ofertas de Trabajo",
        addJob: "Agregar Oferta de Trabajo",
        jobTitleLabel: "Título del Trabajo *",
        jobTitlePlaceholder: "ej., Ingeniero de Software Senior",
        company: "Empresa *",
        companyPlaceholder: "ej., Google",
        location: "Ubicación",
        locationPlaceholder: "ej., San Francisco, CA",
        jobURL: "URL de la Oferta de Trabajo",
        jobDescription: "Descripción del Trabajo",
        jobDescPlaceholder: "Pega la descripción completa del trabajo aquí",
        requirements: "Requisitos y Calificaciones *",
        requirementsPlaceholder: "Lista las habilidades, experiencia y calificaciones requeridas de la oferta de trabajo",
        requirementsHint: "Incluye todas las habilidades técnicas, años de experiencia, requisitos educativos, etc.",
        saveJob: "Guardar Oferta de Trabajo",
        savedJobs: "Ofertas de Trabajo Guardadas",
        noJobsYet: "Aún no hay ofertas de trabajo guardadas. ¡Agrega tu primer trabajo arriba!",
        editJob: "Editar",
        deleteJob: "Eliminar",
        jobSaved: "¡Oferta de trabajo guardada exitosamente!",
        jobDeleted: "¡Oferta de trabajo eliminada exitosamente!",
        confirmDeleteJob: "¿Estás seguro de que quieres eliminar esta oferta de trabajo?",

        // Comparison Engine
        compareTitle: "Comparación de Trabajos",
        selectResume: "Seleccionar Currículum",
        selectJob: "Seleccionar Trabajo",
        runComparison: "Ejecutar Comparación",
        matchScore: "Puntuación de Coincidencia",
        matchingSkills: "Habilidades Coincidentes",
        missingSkills: "Habilidades Faltantes",
        skillsYouHave: "Habilidades que tienes que coinciden con este trabajo",
        skillsYouNeed: "Habilidades requeridas para este trabajo que te faltan",
        noResumes: "No hay currículums disponibles. Crea un currículum primero.",
        noJobs: "No hay ofertas de trabajo disponibles. Agrega un trabajo primero.",
        selectBoth: "Por favor selecciona un currículum y un trabajo para comparar.",

        // Dashboard
        dashboardTitle: "Panel de Control",
        yourProgress: "Tu Progreso",
        level: "Nivel",
        dayStreak: "Racha de Días",
        experiencePoints: "Puntos de Experiencia",
        keepGoing: "¡Sigue adelante para desbloquear más logros!",
        jobComparisons: "Comparaciones de Trabajos",
        jobsAnalyzed: "Trabajos Analizados",
        averageMatch: "Coincidencia Promedio",
        bestMatch: "Mejor Coincidencia",
        yourBestSkills: "Tus Mejores Habilidades",
        bestSkillsDesc: "Habilidades que tienes que coinciden con los requisitos de trabajo más frecuentemente",
        startComparing: "¡Comienza a comparar trabajos para ver tus mejores habilidades!",
        mostInDemand: "Más Demandadas",
        topSkillsDesc: "Principales habilidades en todos los trabajos",
        noDataYet: "Aún no hay datos",
        skillsToLearn: "Habilidades para Aprender",
        missingSkillsDesc: "Brechas más comunes",
        noGapsYet: "¡Aún no hay brechas!",
        achievements: "Logros",
        achievementsDesc: "Desbloquea insignias alcanzando hitos",
        firstSteps: "Primeros Pasos",
        firstStepsDesc: "Completa tu primera comparación de trabajo",
        locked: "Bloqueado",
        jobHunter: "Cazador de Trabajos",
        jobHunterDesc: "Agrega 10 ofertas de trabajo",
        skillMaster: "Maestro de Habilidades",
        skillMasterDesc: "Lista 50+ habilidades en tu currículum",
        perfectMatch: "Coincidencia Perfecta",
        perfectMatchDesc: "Logra una puntuación de coincidencia del 90%+",
        persistent: "Persistente",
        persistentDesc: "Mantente activo durante 5 días consecutivos",
        comparisonPro: "Profesional de Comparaciones",
        comparisonProDesc: "Completa 25 comparaciones de trabajos",
        resumeBuilder: "Constructor de Currículums",
        resumeBuilderDesc: "Crea 3 currículums diferentes",
        recentActivity: "Actividad Reciente",
        noActivityYet: "Aún no hay actividad. ¡Comienza a comparar trabajos!",
        professionals: "Profesionales",
        successRate: "Tasa de Éxito",

        // Footer
        copyright: "© 2024 Recluta - Plataforma de Preparación para Aplicaciones",
        resetAllData: "Restablecer Todos los Datos",

        // Notifications
        error: "Error",
        success: "Éxito",
        warning: "Advertencia"
    }
};

// Current language state
let currentLanguage = localStorage.getItem('language') || 'en';

// Get translation
function t(key) {
    return translations[currentLanguage][key] || key;
}

// Toggle language
function toggleLanguage() {
    currentLanguage = currentLanguage === 'en' ? 'es' : 'en';
    localStorage.setItem('language', currentLanguage);
    updateAllTranslations();
}

// Update all translations
function updateAllTranslations() {
    // Update language toggle
    const langToggle = document.getElementById('current-lang');
    if (langToggle) langToggle.textContent = currentLanguage.toUpperCase();

    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[currentLanguage][key]) {
            el.textContent = t(key);
        }
    });

    // Update specific elements without data-i18n
    updateLandingPage();
    updateFooter();
}

// Individual update functions
function updateLandingPage() {
    const elements = {
        '.hero-title': 'heroTitle',
        '.hero-subtitle': 'heroSubtitle',
        '.btn-primary': 'ctaButton',
        '.cta-note': 'ctaNote',
        '.stat-label': 'statLabel',
        '.stat-description': 'statDescription'
    };

    Object.entries(elements).forEach(([selector, key]) => {
        const el = document.querySelector(selector);
        if (el && !el.hasAttribute('data-i18n')) {
            el.textContent = t(key);
        }
    });

    // Update benefits
    const benefitItems = document.querySelectorAll('.benefit-item');
    if (benefitItems.length >= 3) {
        benefitItems[0].querySelector('strong').textContent = t('benefit1Title');
        benefitItems[0].querySelector('span').textContent = t('benefit1Desc');
        benefitItems[1].querySelector('strong').textContent = t('benefit2Title');
        benefitItems[1].querySelector('span').textContent = t('benefit2Desc');
        benefitItems[2].querySelector('strong').textContent = t('benefit3Title');
        benefitItems[2].querySelector('span').textContent = t('benefit3Desc');
    }
}

function updateNavigation() {
    const navTabs = document.querySelectorAll('.nav-tab');
    const navKeys = ['navResume', 'navJobs', 'navCompare', 'navDashboard'];
    navTabs.forEach((tab, index) => {
        if (navKeys[index]) {
            tab.textContent = t(navKeys[index]);
        }
    });
}

function updateResumeManager() {
    // Will be implemented with resume manager updates
}

function updateJobManager() {
    // Will be implemented with job manager updates
}

function updateComparisonEngine() {
    // Will be implemented with comparison engine updates
}

function updateDashboard() {
    // Will be implemented with dashboard updates
}

function updateFooter() {
    const footerText = document.querySelector('.footer-text');
    const resetBtn = document.querySelector('.footer-reset-btn');

    if (footerText && !footerText.hasAttribute('data-i18n')) {
        footerText.textContent = t('copyright');
    }
    if (resetBtn && !resetBtn.hasAttribute('data-i18n')) {
        resetBtn.textContent = t('resetAllData');
    }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    updateAllTranslations();
});
